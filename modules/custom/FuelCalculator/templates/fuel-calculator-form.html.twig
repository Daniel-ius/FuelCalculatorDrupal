{{ attach_library('fuel_calculator/fuel_calculator_tailwind') }}

<div class="max-w-6xl mx-auto p-6">
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

    <div class="bg-white rounded-lg shadow-lg p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-6">Enter Your Details</h3>

      <form{{ attributes.addClass('space-y-6') }} id="fuel-calculator-form">

        <div class="space-y-2">
          <div class="relative">
            {{ form.distance|merge({
              '#attributes': {
                'class': [
                  'block', 'w-full', 'px-3', 'py-2', 'border', 'border-gray-300',
                  'rounded-md', 'shadow-sm', 'placeholder-gray-400',
                  'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-500',
                  'focus:border-blue-500', 'sm:text-sm'
                ],
                'placeholder': 'Enter distance in kilometers'
              }
            }) }}
            <div class="absolute inset-y-0 right-0 flex items-center pr-3">
              <span class="text-gray-500 text-sm">km</span>
            </div>
          </div>
          <div class="validation-message min-h-[20px] text-sm"></div>
        </div>

        <div class="space-y-2">
          <div class="relative">
            {{ form.efficiency|merge({
              '#attributes': {
                'class': [
                  'block', 'w-full', 'px-3', 'py-2', 'border', 'border-gray-300',
                  'rounded-md', 'shadow-sm', 'placeholder-gray-400',
                  'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-500',
                  'focus:border-blue-500', 'sm:text-sm'
                ],
                'placeholder': 'Enter fuel efficiency'
              }
            }) }}
            <div class="absolute inset-y-0 right-0 flex items-center pr-3">
              <span class="text-gray-500 text-sm">L/100km</span>
            </div>
          </div>
          <div class="validation-message min-h-[20px] text-sm"></div>
        </div>

        <div class="space-y-2">
          <div class="relative">
            {{ form.price|merge({
              '#attributes': {
                'class': [
                  'block', 'w-full', 'px-3', 'py-2', 'border', 'border-gray-300',
                  'rounded-md', 'shadow-sm', 'placeholder-gray-400',
                  'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-500',
                  'focus:border-blue-500', 'sm:text-sm'
                ],
                'placeholder': 'Enter fuel price'
              }
            }) }}
            <div class="absolute inset-y-0 right-0 flex items-center pr-3">
              <span class="text-gray-500 text-sm">EUR</span>
            </div>
          </div>
          <div class="validation-message min-h-[20px] text-sm"></div>
        </div>

        <div class="flex flex-col sm:flex-row gap-3 pt-4">
          {{ form.actions.submit|merge({
            '#attributes': {
              'class': [
                'flex-1', 'bg-blue-600', 'hover:bg-blue-700', 'text-white',
                'font-medium', 'py-2', 'px-4', 'rounded-md',
                'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-500',
                'focus:ring-offset-2', 'transition', 'duration-200',
                'disabled:opacity-50', 'disabled:cursor-not-allowed'
              ]
            }
          }) }}

          {{ form.actions.reset|merge({
            '#attributes': {
              'class': [
                'flex-1', 'bg-gray-600', 'hover:bg-gray-700', 'text-white',
                'font-medium', 'py-2', 'px-4', 'rounded-md',
                'focus:outline-none', 'focus:ring-2', 'focus:ring-gray-500',
                'focus:ring-offset-2', 'transition', 'duration-200'
              ]
            }
          }) }}
        </div>

        <div class="hidden">
          {{ form|without('distance', 'efficiency', 'price', 'actions', 'results') }}
        </div>
      </form>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6">
      <h3 class="text-xl font-semibold text-gray-800 mb-6">Calculation Results</h3>
      {% if form.results %}
        <div class="bg-green-50 border border-green-200 rounded-lg p-4">
          <h4 class="text-lg font-semibold text-green-900 mb-4 flex items-center">
            Final Results
          </h4>
          <div class="space-y-4">
            <div class="bg-white rounded-md p-4 border border-green-300">
              <div class="text-sm text-gray-600 mb-1">Fuel Needed</div>
              <div class="text-2xl font-bold text-green-700">{{ form.results.spent['#markup']|raw }}</div>
            </div>
            <div class="bg-white rounded-md p-4 border border-green-300">
              <div class="text-sm text-gray-600 mb-1">Total Cost</div>
              <div class="text-2xl font-bold text-green-700">{{ form.results.cost['#markup']|raw }}</div>
            </div>
          </div>
        </div>
      {% endif %}

    </div>
  </div>
</div>
